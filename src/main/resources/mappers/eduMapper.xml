<?xml version="1.0" encoding="UTF-8"?>

 <!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   	  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   	  
<mapper namespace = "com.kosmo.uni.persistence.EduDAO">
	<insert id = "insertUser" parameterType = "java.util.Map">
		INSERT INTO users(userid, password, username, enabled, authority)
			VALUES(#{userid}, #{passwd}, #{username}, 1, #{authority})
	</insert>
	
	<select id = "selectUser" resultType = "java.util.Map">
		SELECT userid, password, username, enabled, authority
		  FROM users
		 WHERE userid = #{userid}
	</select>
	<select id = "test" parameterType = "String" resultType = "com.kosmo.uni.vo.TestVO">
		SELECT userid, username, password, enabled, authority
		  FROM users
		 WHERE userid = #{userid}
	</select>
	<select id="studentIdCheck" parameterType="String" resultType="int">
		SELECT COUNT(*) FROM student WHERE id=#{ id }
	</select>
	<select id="getStudentInfo" resultType="com.kosmo.uni.vo.StudentVO">
		SELECT * FROM student WHERE id= #{id}
	</select>
	<update id="updateStudentInfo" parameterType="com.kosmo.uni.vo.StudentVO">
		UPDATE student SET tel=#{tel}, address=#{address}, 
		de_address=#{de_address}, email=#{email} WHERE id=#{id}
	</update>
</mapper>